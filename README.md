# Kohin 商城系统

## 项目概述

Kohin 商城系统是一个基于微信云开发的完整电商解决方案，包含用户端小程序、管理端小程序和Web端后台管理系统。系统采用现代化的技术栈，提供完整的电商功能。

## 系统架构

```
┌─────────────────────────────────────────────────────────────┐
│                    商城生态系统架构                          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
│  │   用户端    │  │   管理端    │  │   Web端     │          │
│  │ 商城小程序  │  │ 后台小程序  │  │ 后台管理    │          │
│  └─────────────┘  └─────────────┘  └─────────────┘          │
│         │                │                │                 │
│         └────────────────┼────────────────┘                 │
│                          │                                  │
│  ┌─────────────────────────────────────────────────────────┐ │
│  │                 腾讯云开发平台                          │ │
│  │  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐       │ │
│  │  │   云函数    │ │   云数据库  │ │   云存储    │       │ │
│  │  │ (Node.js)   │ │ (MongoDB)   │ │   (COS)     │       │ │
│  │  └─────────────┘ └─────────────┘ └─────────────┘       │ │
│  └─────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

## 项目结构

```
kohin-system/
├── 商城小程序/                    # 用户端小程序
│   ├── pages/                    # 页面文件
│   ├── components/               # 组件文件
│   ├── cloudfunctions/           # 云函数
│   ├── utils/                    # 工具函数
│   └── project.config.json       # 项目配置
├── web7.27/                      # Web端后台管理系统
│   └── miniprogram-admin/        # 管理后台
├── cloudfunctions/               # 共享云函数
│   ├── functions/                # 核心业务函数
│   ├── getCosSts/                # COS STS获取
│   └── uploadImageToCos/         # 图片上传
├── 完成版小程序后台8.7/          # 管理端小程序
└── 文档/                         # 项目文档
```

## 技术栈

### 前端技术
- **用户端小程序**: 微信小程序原生框架 + TDesign UI组件库
- **管理端小程序**: 微信小程序原生框架 + 自定义UI组件
- **Web端后台**: Vue.js + Element UI + 微信云开发SDK

### 后端技术
- **云开发平台**: 腾讯云开发 CloudBase
- **云函数**: Node.js
- **数据库**: MongoDB (云数据库)
- **存储**: 腾讯云对象存储 COS

## 核心功能

### 用户端小程序
- 用户认证与登录
- 商品浏览与搜索
- 购物车管理
- 订单管理
- 个人中心
- 支付集成

### 管理端小程序
- 库存管理
- 订单管理
- 客户管理
- 预存管理
- 产品管理

### Web端后台
- 数据统计与分析
- 系统配置管理
- 用户权限管理

## 部署指南

### 环境要求
- 微信开发者工具
- Node.js 14+
- 腾讯云开发环境

### 部署状态

✅ **云函数已准备就绪**
- getCosSts: 腾讯云COS临时密钥获取
- uploadImageToCos: 图片上传到COS存储

✅ **Web端后台已构建完成**
- 构建产物位于: `web7.27/miniprogram-admin/dist/`
- 使用 Vite + React + Tailwind CSS

✅ **小程序项目已准备就绪**
- 用户端小程序: `商城小程序/`
- 管理端小程序: `完成版小程序后台8.7/`

### 部署步骤

1. **云函数部署**
   ```bash
   # 部署核心云函数
   cd cloudfunctions
   npm install
   # 使用微信开发者工具或云开发CLI部署
   ```

2. **用户端小程序部署**
   ```bash
   cd 商城小程序
   npm install
   # 在微信开发者工具中导入项目并部署
   ```

3. **Web端部署**
   ```bash
   cd web7.27/miniprogram-admin
   npm install
   npm run build
   # 部署到云开发静态托管
   ```

### 快速部署

使用云开发CLI进行一键部署：
```bash
# 安装云开发CLI
npm install -g @cloudbase/cli

# 登录云开发
tcb login

# 部署云函数
tcb fn deploy

# 部署静态网站
tcb hosting deploy
```

## 开发指南

详细的开发文档请参考：
- [系统架构说明.md](./系统架构说明.md)
- [数据库设计文档.md](./数据库设计文档.md)
- [API接口文档.md](./API接口文档.md)
- [快速开发指南.md](./快速开发指南.md)

## 许可证

本项目采用 MIT 许可证。

## 联系方式

如有问题，请联系开发团队。 