# 地址选择器使用说明

## 概述

本项目提供了4种不同的省市区选择器组件，每种都有其独特的使用场景和交互方式。**现在默认使用级联选择器**，包含全国所有省市区县数据。

## 组件列表

### 1. AddressSelector（默认选择器）
**文件位置：** `src/components/AddressSelector.jsx`

**特点：**
- **现在默认使用级联选择器实现**
- 支持省市区县四级联动
- 包含全国所有省市区县数据
- 支持返回上一级操作
- 界面清晰，选择流程明确

**使用方式：**
```jsx
import AddressSelector from '../components/AddressSelector';

<AddressSelector
  value={selectedAddress}
  onChange={setSelectedAddress}
  placeholder="请选择省市区"
/>
```

### 2. CascaderAddressSelector（级联选择器）
**文件位置：** `src/components/CascaderAddressSelector.jsx`

**特点：**
- 类似 Ant Design 的级联选择器
- 支持返回上一级操作
- 选择流程清晰明确
- 包含全国所有省市区县数据
- 支持省市区县四级联动
- 适合需要明确选择流程的场景

**使用方式：**
```jsx
import CascaderAddressSelector from '../components/CascaderAddressSelector';

<CascaderAddressSelector
  value={selectedAddress}
  onChange={setSelectedAddress}
  placeholder="请选择省市区"
/>
```

### 3. SearchAddressSelector（搜索式选择器）
**文件位置：** `src/components/SearchAddressSelector.jsx`

**特点：**
- 支持搜索功能，可快速定位目标地区
- 扁平化数据结构，搜索效率高
- 适合选项较多或需要快速定位的场景
- 支持模糊搜索

**使用方式：**
```jsx
import SearchAddressSelector from '../components/SearchAddressSelector';

<SearchAddressSelector
  value={selectedAddress}
  onChange={setSelectedAddress}
  placeholder="请选择省市区"
/>
```

### 4. TagAddressSelector（标签式选择器）
**文件位置：** `src/components/TagAddressSelector.jsx`

**特点：**
- 以标签形式展示选择器
- 支持独立清除每个级别
- 选择状态清晰可见
- 适合需要灵活选择或清除的场景

**使用方式：**
```jsx
import TagAddressSelector from '../components/TagAddressSelector';

<TagAddressSelector
  value={selectedAddress}
  onChange={setSelectedAddress}
  placeholder="请选择省市区"
/>
```

## 数据格式

所有选择器都使用相同的数据格式：

**输入值（value）：**
```javascript
// 数组格式
['广东省', '深圳市', '南山区']

// 或者空数组
[]
```

**输出值（onChange 回调）：**
```javascript
// 选择完整地址时
['广东省', '深圳市', '南山区']

// 只选择省份时
['广东省']

// 选择省份和城市时
['广东省', '深圳市']

// 清空时
[]
```

## 演示页面

访问 `/address-selector-demo` 路由可以查看所有选择器的演示效果。

## 选择建议

- **默认推荐**：使用 `AddressSelector`（现在默认使用级联选择器）
- **需要明确流程**：使用 `CascaderAddressSelector`（级联选择器）
- **选项较多**：使用 `SearchAddressSelector`（搜索式选择器）
- **需要灵活操作**：使用 `TagAddressSelector`（标签式选择器）

## 新特性

- ✅ **完整数据**：包含全国所有省市区县数据
- ✅ **地址识别**：智能识别地址文本，自动解析省市区县
- ✅ **级联选择**：默认使用级联选择器，支持返回操作
- ✅ **统一接口**：所有选择器使用相同的数据格式和API

## 自定义样式

所有组件都使用 Tailwind CSS 类名，可以通过修改类名来自定义样式。主要样式类包括：

- `input input-bordered`：输入框样式
- `bg-blue-100 text-blue-800`：选中状态样式
- `hover:bg-gray-100`：悬停状态样式
- `rounded-lg`：圆角样式

## 注意事项

1. 所有组件都需要传入 `value` 和 `onChange` 属性
2. `value` 必须是数组格式
3. `onChange` 回调函数会接收新的地址数组
4. 组件内部会自动处理省市区数据的联动关系
5. 建议在表单中使用时配合验证逻辑