# COS 图片管理测试页面

## 功能说明

这个测试页面用于验证腾讯云COS（对象存储）的图片上传、显示和删除功能。

## 主要功能

1. **图片上传**
   - 支持拖拽上传
   - 文件大小限制：5MB
   - 文件类型限制：图片文件（image/*）
   - 自动获取临时上传凭证
   - 显示上传进度

2. **图片列表显示**
   - 网格布局展示所有已上传的图片
   - 显示图片名称和文件大小
   - 响应式设计，适配不同屏幕尺寸

3. **图片删除**
   - 点击删除按钮删除指定图片
   - 删除后自动刷新列表

## 技术实现

### 前端技术栈
- React 18
- Ant Design 5
- COS JavaScript SDK v5
- CloudBase JavaScript SDK

### 云函数依赖
- `getCosSts`: 获取COS临时上传凭证
- `getCosImages`: 获取已上传的图片列表
- `deleteCosImage`: 删除指定的图片

### 文件结构
```
src/pages/CosTestPage.jsx  # 测试页面组件
```

## 使用方法

1. 启动开发服务器：
   ```bash
   npm run dev
   ```

2. 访问测试页面：
   - 登录管理后台
   - 点击侧边栏的"COS测试"菜单
   - 或直接访问：`http://localhost:5173/#/cos-test`

3. 测试功能：
   - 上传图片：拖拽或点击选择图片文件
   - 查看列表：查看已上传的图片
   - 删除图片：点击图片卡片上的删除按钮

## 注意事项

1. **环境配置**：确保云函数已正确部署并配置了COS相关权限
2. **网络连接**：需要稳定的网络连接来访问云服务
3. **文件限制**：上传的图片文件不能超过5MB
4. **浏览器兼容性**：建议使用现代浏览器（Chrome、Firefox、Safari、Edge）

## 故障排除

### 常见问题

1. **上传失败**
   - 检查网络连接
   - 确认云函数 `getCosSts` 是否正常工作
   - 查看浏览器控制台错误信息

2. **图片列表加载失败**
   - 检查云函数 `getCosImages` 是否正常工作
   - 确认数据库权限配置

3. **删除失败**
   - 检查云函数 `deleteCosImage` 是否正常工作
   - 确认COS权限配置

### 调试方法

1. 打开浏览器开发者工具
2. 查看Console标签页的错误信息
3. 查看Network标签页的网络请求
4. 检查云函数日志

## 扩展功能

可以考虑添加的功能：
- 图片预览（放大查看）
- 批量上传
- 图片分类管理
- 图片压缩
- 水印添加
- 图片搜索和筛选 