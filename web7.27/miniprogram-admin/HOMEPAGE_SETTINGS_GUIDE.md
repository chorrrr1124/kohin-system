# 首页设置功能使用指南

## 功能概述

首页设置功能允许管理员通过Web端管理小程序首页的轮播图和推广内容，实现以下功能：

- ✨ 轮播图管理（增删改查）
- 🖼️ 图片上传到云存储
- 🎨 渐变色覆盖效果配置
- 📝 推广内容管理
- 📱 实时预览效果

## 访问方式

1. 登录管理后台
2. 在左侧导航栏点击"首页设置"
3. 选择"轮播图管理"或"推广内容"标签页

## 轮播图管理

### 添加轮播图

1. 点击"添加轮播图"按钮
2. 填写以下信息：
   - **标题***：轮播图显示的主标题
   - **副标题**：轮播图显示的副标题（可选）
   - **图片***：上传图片或输入图片URL
   - **渐变色**：选择覆盖在图片上的渐变色效果
   - **排序**：数字越小排序越靠前
   - **状态**：启用/禁用
   - **链接**：点击轮播图跳转的链接（可选）

3. 点击"保存"完成添加

### 编辑轮播图

1. 在轮播图卡片上点击编辑按钮（铅笔图标）
2. 修改相关信息
3. 点击"保存"完成更新

### 管理轮播图

- **启用/禁用**：点击眼睛图标切换状态
- **删除**：点击删除按钮（垃圾桶图标）
- **预览**：轮播图卡片显示实际效果

### 渐变色选项

系统提供5种预设渐变色：

1. **绿色渐变**：适合健康、自然主题
2. **蓝色渐变**：适合科技、专业主题  
3. **橙色渐变**：适合活力、温暖主题
4. **紫色渐变**：适合优雅、神秘主题
5. **粉色渐变**：适合时尚、浪漫主题

## 推广内容管理

### 编辑推广内容

1. 点击"编辑推广内容"按钮
2. 填写以下信息：
   - **主标题***：推广活动主标题
   - **副标题**：推广活动副标题
   - **优惠信息**：优惠券或礼品信息
   - **有效期说明**：活动有效期
   - **价格列表**：设置多个价格档位

3. 点击"保存"完成更新

### 价格列表设置

- 点击"添加价格"可添加新的价格档位
- 每个价格档位包含现价和原价
- 如果现价等于原价，则不显示划线效果
- 可删除不需要的价格档位

## 图片上传

### 支持的方式

1. **直接上传**：选择本地图片文件，系统自动上传到云存储
2. **URL输入**：输入已有的图片URL地址

### 图片要求

- **格式**：JPG、PNG、WebP
- **大小**：建议不超过2MB
- **尺寸**：建议宽度至少750px，比例16:9或3:2
- **内容**：确保图片内容清晰，适合作为轮播图展示

## 数据同步

### 小程序端同步

- 轮播图数据自动同步到小程序首页
- 推广内容实时更新到小程序
- 修改后立即生效，无需重新发布小程序

### 数据存储

- 轮播图数据存储在 `homepage_carousel` 集合
- 推广内容存储在 `homepage_promo` 集合
- 图片文件存储在云存储的 `carousel/` 目录下

## 最佳实践

### 轮播图设计建议

1. **数量控制**：建议3-5张轮播图，过多会影响加载速度
2. **内容重点**：突出重要信息，避免信息过载
3. **颜色搭配**：选择与品牌调性匹配的渐变色
4. **文字可读性**：确保文字在渐变背景上清晰可读

### 推广内容建议

1. **标题简洁**：用简洁有力的标题吸引注意
2. **价格策略**：合理设置价格梯度，引导用户选择
3. **优惠突出**：清晰展示优惠信息和有效期
4. **定期更新**：根据活动情况及时更新内容

### 性能优化

1. **图片优化**：使用压缩后的图片，减少加载时间
2. **合理排序**：将重要内容排在前面
3. **及时清理**：删除不再使用的轮播图
4. **状态管理**：暂时不用的内容设为禁用而非删除

## 故障排除

### 常见问题

**Q: 图片上传失败**
A: 检查网络连接，确认图片格式和大小符合要求

**Q: 轮播图不显示**
A: 确认轮播图状态为"启用"，检查图片URL是否有效

**Q: 小程序端不更新**
A: 数据会实时同步，如果不更新请检查小程序的数据库权限配置

**Q: 渐变色效果不明显**
A: 尝试不同的渐变色选项，或检查图片本身的颜色对比度

### 技术支持

如遇到问题，请：

1. 检查浏览器控制台错误信息
2. 确认云开发环境配置正确
3. 验证数据库集合权限设置
4. 联系技术支持团队

## 数据备份

建议定期备份重要数据：

1. 轮播图配置和图片文件
2. 推广内容设置
3. 云数据库数据导出

通过云开发控制台可以执行数据导出和备份操作。 