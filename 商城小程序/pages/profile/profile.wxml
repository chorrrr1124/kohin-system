<!--pages/profile/profile.wxml-->
<view class="profile-container">


  <!-- ä¼šå‘˜å¡ -->
  <view class="member-card">
    <!-- ä¼šå‘˜ç æŒ‰é’® -->
    <view class="member-code-btn">
      <text class="member-code-text">ä¼šå‘˜ç </text>
    </view>
    
    <!-- ç”¨æˆ·èº«ä»½å’Œç­‰çº§ -->
    <view class="user-identity">
      <view class="identity-left">
        <view class="level-badge">
          <text class="level-text">LV {{userInfo.vipLevel || 2}}</text>
        </view>
        <text class="user-title">èµ„æ·±å…»é¸­äºº</text>
        <view class="progress-section">
          <view class="progress-bar">
            <view class="progress-fill" style="width: {{(growthInfo.current / growthInfo.total) * 100}}%"></view>
          </view>
          <text class="progress-text">{{growthInfo.current || 170.9}}/{{growthInfo.total || 480}}</text>
        </view>
        <text class="upgrade-text">å†è·å¾—{{(growthInfo.total || 480) - (growthInfo.current || 170.9)}}é¸­åŠ›å€¼å¯å‡çº§ä¸ºé¸­å‚å°è´¢ä¸»</text>
      </view>
      
      <!-- å‰ç¥¥ç‰©é¸­å­ -->
      <view class="mascot-duck">
        <text class="duck-emoji">ğŸ¦†</text>
        <text class="duck-label">EXPERT</text>
      </view>
    </view>
  </view>

  <!-- å·²è§£é”æƒç›Š -->
  <view class="benefits-section">
    <view class="benefits-header">
      <text class="benefits-title">å·²è§£é”{{benefitsInfo.count || 5}}é¡¹æƒç›Š</text>
      <view class="view-all-benefits">
        <text class="view-all-text">å…¨éƒ¨æƒç›Š ></text>
      </view>
    </view>
    
    <view class="benefits-grid">
      <view class="benefit-item">
        <view class="benefit-icon">ğŸ’°</view>
        <text class="benefit-count">x1</text>
        <text class="benefit-name">æ»¡30-5å…ƒåˆ¸</text>
      </view>
      <view class="benefit-item">
        <view class="benefit-icon">ğŸ¥¤</view>
        <text class="benefit-count">x1</text>
        <text class="benefit-name">æ‹›ç‰Œé¥®å“8...</text>
      </view>
      <view class="benefit-item">
        <view class="benefit-icon">ğŸª™</view>
        <text class="benefit-count">x2</text>
        <text class="benefit-name">é¸­å¸ç¿»å€</text>
      </view>
      <view class="benefit-item">
        <view class="benefit-icon">ğŸ‚</view>
        <text class="benefit-count">x1</text>
        <text class="benefit-name">ç”Ÿæ—¥å•å“8...</text>
      </view>
    </view>
  </view>

  <!-- æˆ‘çš„èµ„äº§ -->
  <view class="assets-section">
    <text class="section-title">æˆ‘çš„èµ„äº§</text>
    <view class="assets-grid">
      <view class="asset-item">
        <text class="asset-value">{{userInfo.coupons || 5}}</text>
        <text class="asset-label">ä¼˜æƒ åˆ¸</text>
        <view class="asset-icon">ğŸ«</view>
      </view>
      <view class="asset-item">
        <text class="asset-value">{{userInfo.balance || 0}}</text>
        <text class="asset-label">ä½™é¢</text>
        <view class="asset-icon">ğŸ’´</view>
      </view>
      <view class="asset-item">
        <text class="asset-value">{{userInfo.points || 59.9}}</text>
        <text class="asset-label">ç§¯åˆ†</text>
        <view class="asset-icon">ğŸª™</view>
      </view>
    </view>
  </view>

  <!-- æˆ‘çš„åŠŸèƒ½ -->
  <view class="function-section">
    <text class="section-title">æˆ‘çš„åŠŸèƒ½</text>
    
    <view class="function-grid">
      <block wx:for="{{functionMenus}}" wx:key="index" wx:for-index="rowIndex">
        <view class="function-row">
          <block wx:for="{{item}}" wx:key="path" wx:for-item="menu">
            <view class="function-item" bindtap="onMenuTap" data-path="{{menu.path}}">
              <image class="function-icon" src="{{menu.icon}}" mode="aspectFit"></image>
              <text class="function-name">{{menu.name}}</text>
            </view>
          </block>
        </view>
      </block>
    </view>
  </view>

  <!-- å¿ƒæ„ç¤¼å¡ -->
  <view class="gift-section">
    <view class="gift-header">
      <text class="section-title">å¿ƒæ„ç¤¼å¡</text>
      <view class="view-all" bindtap="onViewAllGifts">
        <text class="view-all-text">æŸ¥çœ‹ å…¨éƒ¨</text>
        <text class="arrow">Â»</text>
      </view>
    </view>
    
    <view class="gift-cards">
      <block wx:for="{{giftCards}}" wx:key="id">
        <view class="gift-card" bindtap="onGiftCardTap" data-id="{{item.id}}">
          <image class="gift-image" src="{{item.image}}" mode="aspectFill"></image>
          <view class="gift-overlay">
            <view class="gift-price">
              <text class="price-symbol">ï¿¥</text>
              <text class="price-value">{{item.price}}</text>
            </view>
            <text class="gift-title">{{item.title}}</text>
            <text class="gift-brand">{{item.brand}}</text>
          </view>
        </view>
      </block>
    </view>
  </view>
</view>