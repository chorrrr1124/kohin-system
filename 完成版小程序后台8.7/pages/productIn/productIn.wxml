<!-- pages/productIn/productIn.wxml -->
<view class="page">
  <view class="section-title">产品入库</view>
  <view class="last-out-time" wx:if="{{lastOutTime}}">上次出库时间：{{lastOutTime}}</view>
  
  <!-- 侧边栏和内容区域 -->
  <view class="main-container">
    <!-- 侧边栏分类 -->
    <view class="sidebar">
      <view 
        wx:for="{{categories}}" 
        wx:key="*this" 
        class="sidebar-item {{currentCategory === item ? 'active' : ''}}"
        bindtap="switchCategory"
        data-category="{{item}}"
      >
        {{item}}
      </view>
    </view>

    <!-- 主内容区域 -->
    <view class="main-content">
      <!-- 品牌分类选项卡 -->
      <scroll-view scroll-x="true" class="brand-tabs" wx:if="{{brands.length > 0}}">
        <view 
          wx:for="{{brands}}" 
          wx:key="*this" 
          class="brand-tab {{currentBrand === item ? 'active' : ''}}"
          bindtap="switchBrand"
          data-brand="{{item}}"
        >
          {{item}}
        </view>
      </scroll-view>

      <!-- 产品列表 -->
      <view class="product-list">
        <block wx:if="{{products.length > 0}}">
          <view class="product-item flex-row" wx:for="{{products}}" wx:key="id">
            <image class="product-image" src="{{item.imagePath || '/images/placeholder.png'}}"></image>
            <view class="product-info">
              <view class="product-name">{{item.name}}</view>
              <view class="product-meta" wx:if="{{item.brand}}">品牌：{{item.brand}}</view>
              <view class="product-meta" wx:if="{{item.specification}}">规格：{{item.specification}}</view>
              <view class="product-stock">库存：{{item.stock}}个</view>
            </view>
            <view class="admin-actions">
              <button size="mini" type="primary" catchtap="productIn" data-index="{{index}}">入库</button>
            </view>
          </view>
        </block>
        <view wx:else class="empty-tip">暂无产品，请先添加产品</view>
      </view>
    </view>
  </view>
</view>