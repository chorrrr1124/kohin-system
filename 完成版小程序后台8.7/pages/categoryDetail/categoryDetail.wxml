<!-- pages/categoryDetail/categoryDetail.wxml -->
<view class="page">
  <!-- 页面标题 -->
  <view class="header">
    <text class="title">{{category}}类产品</text>
    <text class="subtitle">共{{products.length}}个</text>
  </view>

  <!-- 产品列表 -->
  <view class="product-list">
    <block wx:if="{{products.length > 0}}">
      <view 
        class="product-item flex-row" 
        wx:for="{{products}}" 
        wx:key="id"
      >
        <image class="product-image" src="{{item.imagePath || '/images/placeholder.png'}}"></image>
        <view class="product-info">
          <view class="product-name">{{item.name}}</view>
          <view class="product-meta" wx:if="{{item.brand}}">品牌：{{item.brand}}</view>
          <view class="product-meta" wx:if="{{item.specification}}">规格：{{item.specification}}</view>
          <view class="product-stock {{item.stock <= 10 ? 'low-stock' : ''}}">库存：{{item.stock}}个</view>
        </view>
        <view class="take-btn">
          <button size="mini" type="primary" catchtap="takeProduct" data-index="{{index}}">领取</button>
        </view>
      </view>
    </block>
    <view wx:else class="empty-tip">该分类暂无产品</view>
  </view>
</view>